import RequestPayloadException from '../errors/requestPayload.ts';
export default (requiredParameters) => {
    return async (ctx, next) => {
        const body = await ctx.request.body().value;
        const valid = requiredParameters.every(key => body[key]);
        if (!valid)
            throw new RequestPayloadException(`Required payloads are ${requiredParameters}`);
        await next();
    };
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmFsaWRhdGVQYXlsb2FkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsidmFsaWRhdGVQYXlsb2FkLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBLE9BQU8sdUJBQXVCLE1BQU0sNkJBQTZCLENBQUE7QUFFakUsZUFBZSxDQUFnQyxrQkFBNEIsRUFBRSxFQUFFO0lBQzNFLE9BQU8sS0FBSyxFQUFFLEdBQVksRUFBRSxJQUE0QixFQUFFLEVBQUU7UUFDeEQsTUFBTSxJQUFJLEdBQU0sTUFBTSxHQUFHLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRSxDQUFDLEtBQUssQ0FBQztRQUMvQyxNQUFNLEtBQUssR0FBRyxrQkFBa0IsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN6RCxJQUFJLENBQUMsS0FBSztZQUFFLE1BQU0sSUFBSSx1QkFBdUIsQ0FBQyx5QkFBeUIsa0JBQWtCLEVBQUUsQ0FBQyxDQUFDO1FBRTdGLE1BQU0sSUFBSSxFQUFFLENBQUM7SUFDakIsQ0FBQyxDQUFBO0FBRUwsQ0FBQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29udGV4dCB9IGZyb20gJy4uL2RlcHMudHMnXG5pbXBvcnQgUmVxdWVzdFBheWxvYWRFeGNlcHRpb24gZnJvbSAnLi4vZXJyb3JzL3JlcXVlc3RQYXlsb2FkLnRzJ1xuXG5leHBvcnQgZGVmYXVsdCA8VCBleHRlbmRzIFJlY29yZDxzdHJpbmcsIGFueT4+KHJlcXVpcmVkUGFyYW1ldGVyczogc3RyaW5nW10pID0+IHtcbiAgICByZXR1cm4gYXN5bmMgKGN0eDogQ29udGV4dCwgbmV4dDogKCkgPT4gUHJvbWlzZTx1bmtub3duPikgPT4ge1xuICAgICAgICBjb25zdCBib2R5OiBUID0gYXdhaXQgY3R4LnJlcXVlc3QuYm9keSgpLnZhbHVlO1xuICAgICAgICBjb25zdCB2YWxpZCA9IHJlcXVpcmVkUGFyYW1ldGVycy5ldmVyeShrZXkgPT4gYm9keVtrZXldKTtcbiAgICAgICAgaWYgKCF2YWxpZCkgdGhyb3cgbmV3IFJlcXVlc3RQYXlsb2FkRXhjZXB0aW9uKGBSZXF1aXJlZCBwYXlsb2FkcyBhcmUgJHtyZXF1aXJlZFBhcmFtZXRlcnN9YCk7XG5cbiAgICAgICAgYXdhaXQgbmV4dCgpO1xuICAgIH1cblxufSJdfQ==