import { CommandCursor } from "../../protocol/mod.ts";
export class ListIndexesCursor extends CommandCursor {
    #context;
    async executor() {
        const { protocol, dbName, collectionName } = this.#context;
        const { cursor } = await protocol.commandSingle(dbName, {
            listIndexes: collectionName,
        });
        return {
            ...cursor,
            id: cursor.id.toString(),
        };
    }
    constructor(context) {
        super(context.protocol, () => this.executor());
        this.#context = context;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGlzdF9pbmRleGVzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibGlzdF9pbmRleGVzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxhQUFhLEVBQWdCLE1BQU0sdUJBQXVCLENBQUM7QUFRcEUsTUFBTSxPQUFPLGlCQUFxQixTQUFRLGFBQWdCO0lBQ3hELFFBQVEsQ0FBMkI7SUFFM0IsS0FBSyxDQUFDLFFBQVE7UUFDcEIsTUFBTSxFQUFFLFFBQVEsRUFBRSxNQUFNLEVBQUUsY0FBYyxFQUFFLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQztRQUMzRCxNQUFNLEVBQUUsTUFBTSxFQUFFLEdBQUcsTUFBTSxRQUFRLENBQUMsYUFBYSxDQUFDLE1BQU0sRUFBRTtZQUN0RCxXQUFXLEVBQUUsY0FBYztTQUM1QixDQUFDLENBQUM7UUFDSCxPQUFPO1lBQ0wsR0FBRyxNQUFNO1lBQ1QsRUFBRSxFQUFFLE1BQU0sQ0FBQyxFQUFFLENBQUMsUUFBUSxFQUFFO1NBQ3pCLENBQUM7SUFDSixDQUFDO0lBRUQsWUFBWSxPQUFpQztRQUMzQyxLQUFLLENBQUMsT0FBTyxDQUFDLFFBQVEsRUFBRSxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQztRQUMvQyxJQUFJLENBQUMsUUFBUSxHQUFHLE9BQU8sQ0FBQztJQUMxQixDQUFDO0NBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21tYW5kQ3Vyc29yLCBXaXJlUHJvdG9jb2wgfSBmcm9tIFwiLi4vLi4vcHJvdG9jb2wvbW9kLnRzXCI7XG5cbmludGVyZmFjZSBMaXN0SW5kZXhlc0N1cnNvckNvbnRleHQge1xuICBkYk5hbWU6IHN0cmluZztcbiAgY29sbGVjdGlvbk5hbWU6IHN0cmluZztcbiAgcHJvdG9jb2w6IFdpcmVQcm90b2NvbDtcbn1cblxuZXhwb3J0IGNsYXNzIExpc3RJbmRleGVzQ3Vyc29yPFQ+IGV4dGVuZHMgQ29tbWFuZEN1cnNvcjxUPiB7XG4gICNjb250ZXh0OiBMaXN0SW5kZXhlc0N1cnNvckNvbnRleHQ7XG5cbiAgcHJpdmF0ZSBhc3luYyBleGVjdXRvcigpIHtcbiAgICBjb25zdCB7IHByb3RvY29sLCBkYk5hbWUsIGNvbGxlY3Rpb25OYW1lIH0gPSB0aGlzLiNjb250ZXh0O1xuICAgIGNvbnN0IHsgY3Vyc29yIH0gPSBhd2FpdCBwcm90b2NvbC5jb21tYW5kU2luZ2xlKGRiTmFtZSwge1xuICAgICAgbGlzdEluZGV4ZXM6IGNvbGxlY3Rpb25OYW1lLFxuICAgIH0pO1xuICAgIHJldHVybiB7XG4gICAgICAuLi5jdXJzb3IsXG4gICAgICBpZDogY3Vyc29yLmlkLnRvU3RyaW5nKCksXG4gICAgfTtcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKGNvbnRleHQ6IExpc3RJbmRleGVzQ3Vyc29yQ29udGV4dCkge1xuICAgIHN1cGVyKGNvbnRleHQucHJvdG9jb2wsICgpID0+IHRoaXMuZXhlY3V0b3IoKSk7XG4gICAgdGhpcy4jY29udGV4dCA9IGNvbnRleHQ7XG4gIH1cbn1cbiJdfQ==